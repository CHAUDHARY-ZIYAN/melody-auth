# Root Environment Configuration Example
# Copy this file to create environment files for server and admin-panel

## Server Environment (.env or .dev.vars)
# See server/.dev.vars.example for complete server configuration

## Admin Panel Environment (.env.local)
# See admin-panel/.env.example for complete admin panel configuration

## Quick Setup

### For Development:
```bash
# Run automated setup
npm run setup

# Or manual setup:
# 1. Server
cd server
cp .dev.vars.example .dev.vars
npm run dev:secret:generate
npm run dev:migration:apply

# 2. Admin Panel
cd admin-panel
cp .env.example .env.local
# Configure with app credentials from database

# 3. Start servers
npm run dev:server   # Terminal 1
npm run dev:admin    # Terminal 2
```

### For Production:
See DEPLOYMENT.md for complete production deployment instructions

## Environment Variables Overview

### Server
- `ENVIRONMENT` - Set to "dev" for development, anything else for production
- `AUTH_SERVER_URL` - Base URL of the auth server
- Database configuration (Cloudflare D1 or PostgreSQL)
- Email/SMS/Social provider credentials (optional)

### Admin Panel
- `NEXT_PUBLIC_CLIENT_URI` - Admin panel URL
- `NEXT_PUBLIC_SERVER_URI` - Auth server URL
- `NEXT_PUBLIC_CLIENT_ID` - SPA client ID from database
- `SERVER_CLIENT_ID` - S2S client ID from database
- `SERVER_CLIENT_SECRET` - S2S client secret from database

## Security Notes

⚠️ **Never commit these files to version control:**
- `server/.dev.vars`
- `server/.env`
- `admin-panel/.env.local`

✅ **Generate strong secrets:**
- Use provided scripts: `npm run dev:secret:generate`
- Rotate secrets regularly in production

For detailed configuration, see:
- `DEVELOPMENT.md` - Development setup
- `DEPLOYMENT.md` - Production deployment
- `SECURITY.md` - Security best practices
